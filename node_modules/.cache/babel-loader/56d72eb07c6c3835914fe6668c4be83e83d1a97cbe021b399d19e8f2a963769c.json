{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mt-3 w-6/12 mx-auto\"\n};\nconst _hoisted_2 = {\n  class: \"rounded bg-white shadow-md\",\n  style: {\n    \"width\": \"1063px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-12 h-12 mx-auto rounded-full animate-spin border-2 border-solid border-blue-500 border-t-transparent\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"table-fixed w-auto min-w-full\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"bg-gray-200 border-gray-300 border-t border-b\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"font-medium text-sm p-2 text-right\",\n  style: {\n    \"width\": \"100px\"\n  }\n}, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"font-medium text-sm p-2 text-left\",\n  style: {\n    \"width\": \"500px\"\n  }\n}, \"Brand\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"font-medium text-sm p-2 text-left\",\n  style: {\n    \"width\": \"200px\"\n  }\n}, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"font-medium text-sm p-2 text-left\",\n  style: {\n    \"width\": \"200px\"\n  }\n}, \"Product\")])], -1 /* HOISTED */);\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"min-h-[400px] w-full\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  class: \"text-sm font-medium text-right\"\n};\nconst _hoisted_11 = {\n  href: \"#\",\n  class: \"inline-block p-2 w-full truncate\"\n};\nconst _hoisted_12 = {\n  class: \"text-sm\",\n  style: {\n    \"max-width\": \"200px\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"text-sm\"\n};\nconst _hoisted_14 = {\n  class: \"text-sm\"\n};\nconst _hoisted_15 = {\n  class: \"py-4 px-5 flex justify-between items-center\"\n};\nconst _hoisted_16 = [\"disabled\"];\nconst _hoisted_17 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [$setup.isLoading ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_7, [..._hoisted_9])) : (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($setup.items, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      class: \"border-gray-300 border-b hover:bg-gray-100\",\n      key: index\n    }, [_createElementVNode(\"td\", _hoisted_10, [_createElementVNode(\"a\", _hoisted_11, _toDisplayString(item.id), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_12, _toDisplayString(item.brand), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_13, _toDisplayString(item.price), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_14, _toDisplayString(item.product), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    disabled: $setup.isLoading || $setup.page < 2,\n    onClick: _cache[0] || (_cache[0] = $event => $setup.prevPage()),\n    class: \"px-8 py-3 disabled:bg-gray-300 text-white bg-sky-500 hover:bg-sky-700 rounded focus:outline-none\"\n  }, \" Previous \", 8 /* PROPS */, _hoisted_16), _createElementVNode(\"button\", {\n    disabled: $setup.isLoading,\n    onClick: _cache[1] || (_cache[1] = $event => $setup.nextPage()),\n    class: \"px-8 py-3 disabled:bg-gray-300 ml-3 text-white bg-sky-500 hover:bg-sky-700 rounded focus:outline-none\"\n  }, \" Next \", 8 /* PROPS */, _hoisted_17)])])])])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","key","_hoisted_8","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","$setup","isLoading","_hoisted_7","_hoisted_9","_Fragment","_renderList","items","item","index","_hoisted_10","_hoisted_11","_toDisplayString","id","_hoisted_12","brand","_hoisted_13","price","_hoisted_14","product","_hoisted_15","disabled","page","onClick","_cache","$event","prevPage","_hoisted_16","nextPage","_hoisted_17"],"sources":["/var/www/html/valantis/src/App.vue"],"sourcesContent":["<script setup>\nimport {onMounted, ref} from \"vue\";\nimport {md5} from \"js-md5\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\naxios.defaults.headers['X-Auth'] = md5(`Valantis_${moment().format('yyyyMMDD')}`)\nconst apiUrl = 'http://api.valantis.store:40000/'\nconst items = ref([])\nconst page = ref(1)\nconst isLoading = ref(false)\nonMounted(() => {\n  getItemsIds()\n})\n\nconst getItems = (ids = []) => {\n  axios.post(apiUrl, {\n    \"action\": \"get_items\",\n    \"params\": {\n      \"ids\": ids\n    }\n  }).then(({data}) => {\n    const keys = ['id'];\n    items.value = data.result.filter((value, index, self) =>\n        self.findIndex(v => keys.every(k => v[k] === value[k])) === index\n    ) ?? []\n    isLoading.value = true\n  }).catch((e) => {\n    console.log(e);\n    getItemsIds(true)\n  })\n}\nconst getItemsIds = (repeat = false) => {\n  isLoading.value = true\n  return axios.post(apiUrl, {\n    \"action\": \"get_ids\",\n    \"params\": {\n      \"offset\": page.value * 10,\n      \"limit\": 10\n    }\n  }).then(({data}) => {\n    getItems(data.result ?? [])\n  }).catch((e) => {\n    if (!repeat) {\n      getItemsIds(true)\n      console.log(e);\n    }\n  })\n}\nconst prevPage = () => {\n  page.value--\n  getItemsIds(false)\n}\nconst nextPage = () => {\n  page.value++\n  getItemsIds(false)\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"mt-3 w-6/12 mx-auto\">\n      <div class=\"rounded bg-white shadow-md\" style=\"width: 1063px;\">\n        <div class=\"overflow-x-auto\">\n          <div class=\"w-12 h-12 mx-auto rounded-full animate-spin\n                    border-2 border-solid border-blue-500 border-t-transparent\"></div>\n          <table class=\"table-fixed w-auto min-w-full\">\n            <thead class=\"bg-gray-200 border-gray-300 border-t border-b\">\n            <tr>\n              <th class=\"font-medium text-sm p-2 text-right\" style=\"width: 100px;\">ID</th>\n              <th class=\"font-medium text-sm p-2 text-left\" style=\"width: 500px;\">Brand</th>\n              <th class=\"font-medium text-sm p-2 text-left\" style=\"width: 200px;\">Price</th>\n              <th class=\"font-medium text-sm p-2 text-left\" style=\"width: 200px;\">Product</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-if=\"isLoading\">\n                <div class=\"min-h-[400px] w-full\">\n\n                </div>\n            </tr>\n            <tr v-else class=\"border-gray-300 border-b hover:bg-gray-100\" v-for=\"(item, index) in items\" :key=\"index\">\n              <td class=\"text-sm font-medium text-right\"><a href=\"#\" class=\"inline-block p-2 w-full truncate\">{{\n                  item.id\n                }}</a></td>\n              <td class=\"text-sm\" style=\"max-width: 200px;\">{{ item.brand }}</td>\n              <td class=\"text-sm\">\n                {{ item.price }}\n              </td>\n              <td class=\"text-sm\">\n                {{ item.product }}\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"py-4 px-5 flex justify-between items-center\">\n          <div>\n            <button :disabled=\"isLoading || page < 2\" @click=\"prevPage()\"\n                    class=\"px-8 py-3 disabled:bg-gray-300 text-white bg-sky-500 hover:bg-sky-700 rounded focus:outline-none\">\n              Previous\n            </button>\n            <button :disabled=\"isLoading\" @click=\"nextPage()\"\n                    class=\"px-8 py-3 disabled:bg-gray-300 ml-3 text-white bg-sky-500 hover:bg-sky-700 rounded focus:outline-none\">\n              Next\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\n</style>\n"],"mappings":";;EA6DSA,KAAK,EAAC;AAAqB;;EACzBA,KAAK,EAAC,4BAA4B;EAACC,KAAsB,EAAtB;IAAA;EAAA;;;EACjCD,KAAK,EAAC;AAAiB;gCAC1BE,mBAAA,CAC4E;EADvEF,KAAK,EAAC;AAC0D;;EAC9DA,KAAK,EAAC;AAA+B;gCAC1CE,mBAAA,CAOQ;EAPDF,KAAK,EAAC;AAA+C,I,aAC5DE,mBAAA,CAKK,a,aAJHA,mBAAA,CAA4E;EAAxEF,KAAK,EAAC,oCAAoC;EAACC,KAAqB,EAArB;IAAA;EAAA;GAAsB,IAAE,G,aACvEC,mBAAA,CAA8E;EAA1EF,KAAK,EAAC,mCAAmC;EAACC,KAAqB,EAArB;IAAA;EAAA;GAAsB,OAAK,G,aACzEC,mBAAA,CAA8E;EAA1EF,KAAK,EAAC,mCAAmC;EAACC,KAAqB,EAArB;IAAA;EAAA;GAAsB,OAAK,G,aACzEC,mBAAA,CAAgF;EAA5EF,KAAK,EAAC,mCAAmC;EAACC,KAAqB,EAArB;IAAA;EAAA;GAAsB,SAAO,E;;EAxEzFE,GAAA;AAAA;gCA6EgBD,mBAAA,CAEM;EAFDF,KAAK,EAAC;AAAsB;oBAAjCI,UAEM,C;;EAGJJ,KAAK,EAAC;AAAgC;;EAAIK,IAAI,EAAC,GAAG;EAACL,KAAK,EAAC;;;EAGzDA,KAAK,EAAC,SAAS;EAACC,KAAyB,EAAzB;IAAA;EAAA;;;EAChBD,KAAK,EAAC;AAAS;;EAGfA,KAAK,EAAC;AAAS;;EAOpBA,KAAK,EAAC;AAA6C;oBAhGhE;oBAAA;;uBA4DEM,mBAAA,CAkDM,cAjDJJ,mBAAA,CAgDM,OAhDNK,UAgDM,GA/CJL,mBAAA,CA8CM,OA9CNM,UA8CM,GA7CJN,mBAAA,CAgCM,OAhCNO,UAgCM,GA/BJC,UAC4E,EAC5ER,mBAAA,CA4BQ,SA5BRS,UA4BQ,GA3BNC,UAOQ,EACRV,mBAAA,CAkBQ,gBAjBEW,MAAA,CAAAC,SAAS,I,cAAnBR,mBAAA,CAIK,MAhFjBS,UAAA,MAAAC,UAAA,O,kBAiFYV,mBAAA,CAWKW,SAAA;IA5FjBd,GAAA;EAAA,GAAAe,WAAA,CAiFkGL,MAAA,CAAAM,KAAK,EAjFvG,CAiFkFC,IAAI,EAAEC,KAAK;yBAAjFf,mBAAA,CAWK;MAXMN,KAAK,EAAC,4CAA4C;MAAiCG,GAAG,EAAEkB;QACjGnB,mBAAA,CAEa,MAFboB,WAEa,GAF8BpB,mBAAA,CAEnC,KAFmCqB,WAEnC,EAAAC,gBAAA,CADJJ,IAAI,CAACK,EAAE,iB,GAEXvB,mBAAA,CAAmE,MAAnEwB,WAAmE,EAAAF,gBAAA,CAAlBJ,IAAI,CAACO,KAAK,kBAC3DzB,mBAAA,CAEK,MAFL0B,WAEK,EAAAJ,gBAAA,CADAJ,IAAI,CAACS,KAAK,kBAEf3B,mBAAA,CAEK,MAFL4B,WAEK,EAAAN,gBAAA,CADAJ,IAAI,CAACW,OAAO,iB;wCAMvB7B,mBAAA,CAWM,OAXN8B,WAWM,GAVJ9B,mBAAA,CASM,cARJA,mBAAA,CAGS;IAHA+B,QAAQ,EAAEpB,MAAA,CAAAC,SAAS,IAAID,MAAA,CAAAqB,IAAI;IAAOC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAExB,MAAA,CAAAyB,QAAQ;IAClDtC,KAAK,EAAC;KAAmG,YAEjH,iBArGZuC,WAAA,GAsGYrC,mBAAA,CAGS;IAHA+B,QAAQ,EAAEpB,MAAA,CAAAC,SAAS;IAAGqB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAExB,MAAA,CAAA2B,QAAQ;IACtCxC,KAAK,EAAC;KAAwG,QAEtH,iBAzGZyC,WAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}