{"ast":null,"code":"import { onMounted, ref } from \"vue\";\nimport { md5 } from \"js-md5\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst apiUrl = 'http://api.valantis.store:40000/';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    axios.defaults.headers['X-Auth'] = md5(`Valantis_${moment().format('yyyyMMDD')}`);\n    const items = ref([]);\n    const page = ref(1);\n    onMounted(() => {\n      getItemsIds().then(ids => {\n        getItems(ids);\n      });\n    });\n    const getItems = (ids = []) => {\n      axios.post(apiUrl, {\n        \"action\": \"get_items\",\n        \"params\": {\n          \"ids\": ids\n        }\n      }).then(({\n        data\n      }) => {\n        items.value = data.result ?? [];\n      });\n    };\n    const getItemsIds = (repeat = false) => {\n      return new Promise(resolve => {\n        axios.post(apiUrl, {\n          \"action\": \"get_ids\",\n          \"params\": {\n            \"offset\": page.value * 10,\n            \"limit\": 10\n          }\n        }).then(({\n          data\n        }) => {\n          resolve(data.result ?? []);\n        }).catch(e => {\n          if (!repeat) {\n            getItemsIds(true);\n            console.log(e);\n          }\n        });\n      });\n    };\n    const __returned__ = {\n      apiUrl,\n      items,\n      page,\n      getItems,\n      getItemsIds,\n      onMounted,\n      ref,\n      get md5() {\n        return md5;\n      },\n      get axios() {\n        return axios;\n      },\n      get moment() {\n        return moment;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","md5","axios","moment","apiUrl","defaults","headers","format","items","page","getItemsIds","then","ids","getItems","post","data","value","result","repeat","Promise","resolve","catch","e","console","log"],"sources":["/var/www/html/valantis/src/App.vue"],"sourcesContent":["<script setup>\nimport {onMounted, ref} from \"vue\";\nimport {md5} from \"js-md5\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\naxios.defaults.headers['X-Auth'] = md5(`Valantis_${moment().format('yyyyMMDD')}`)\nconst apiUrl = 'http://api.valantis.store:40000/'\nconst items = ref([])\nconst page = ref(1)\nonMounted(() => {\n  getItemsIds().then(ids => {\n    getItems(ids)\n  })\n})\n\nconst getItems = (ids = []) => {\n  axios.post(apiUrl, {\n    \"action\": \"get_items\",\n    \"params\": {\n      \"ids\": ids\n    }\n  }).then(({data}) => {\n    items.value = data.result ?? []\n  })\n}\nconst getItemsIds = (repeat = false) => {\n  return new Promise(resolve => {\n    axios.post(apiUrl, {\n      \"action\": \"get_ids\",\n      \"params\": {\n        \"offset\": page.value*10,\n        \"limit\": 10\n      }\n    }).then(({data}) => {\n      resolve(data.result ?? [])\n    }).catch((e) => {\n      if (!repeat) {\n        getItemsIds(true)\n        console.log(e);\n      }\n    })\n  })\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"\">\n      <nav class=\"flex flex-row flex-nowrap justify-between md:justify-center items-center\" aria-label=\"Pagination\">\n        <a class=\"flex w-10 h-10 mr-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Previous Page\">\n          <span class=\"sr-only\">Previous Page</span>\n          <svg class=\"block w-4 h-4 fill-current\" viewBox=\"0 0 256 512\" aria-hidden=\"true\" role=\"presentation\">\n            <path d=\"M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z\"></path>\n          </svg>\n        </a>\n        <a class=\"hidden md:flex w-10 h-10 mx-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Page 1\">\n          1\n        </a>\n        <a class=\"hidden md:flex w-10 h-10 mx-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Page 2\">\n          2\n        </a>\n        <a class=\"hidden md:flex w-10 h-10 mx-1 justify-center items-center rounded-full border border-black bg-black text-white pointer-events-none\" href=\"#\" aria-current=\"page\" title=\"Page 3\">\n          3\n        </a>\n        <a class=\"hidden md:flex w-10 h-10 mx-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Page 4\">\n          4\n        </a>\n        <a class=\"hidden md:flex w-10 h-10 mx-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Page 5\">\n          5\n        </a>\n        <a class=\"flex w-10 h-10 ml-1 justify-center items-center rounded-full border border-gray-200 bg-white text-black hover:border-gray-300\" href=\"#\" title=\"Next Page\">\n          <span class=\"sr-only\">Next Page</span>\n          <svg class=\"block w-4 h-4 fill-current\" viewBox=\"0 0 256 512\" aria-hidden=\"true\" role=\"presentation\">\n            <path d=\"M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z\"></path>\n          </svg>\n        </a>\n      </nav>\n    </div>\n  </div>\n</template>\n\n<style>\n\n</style>\n"],"mappings":"AACA,SAAQA,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,SAAQC,GAAG,QAAO,QAAQ;AAC1B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAG3B,MAAMC,MAAM,GAAG,kCAAkC;;;;;;;IADjDF,KAAK,CAACG,QAAQ,CAACC,OAAO,CAAC,QAAQ,CAAC,GAAGL,GAAG,CAAE,YAAWE,MAAM,CAAC,CAAC,CAACI,MAAM,CAAC,UAAU,CAAE,EAAC,CAAC;IAEjF,MAAMC,KAAK,GAAGR,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMS,IAAI,GAAGT,GAAG,CAAC,CAAC,CAAC;IACnBD,SAAS,CAAC,MAAM;MACdW,WAAW,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG,IAAI;QACxBC,QAAQ,CAACD,GAAG,CAAC;MACf,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMC,QAAQ,GAAGA,CAACD,GAAG,GAAG,EAAE,KAAK;MAC7BV,KAAK,CAACY,IAAI,CAACV,MAAM,EAAE;QACjB,QAAQ,EAAE,WAAW;QACrB,QAAQ,EAAE;UACR,KAAK,EAAEQ;QACT;MACF,CAAC,CAAC,CAACD,IAAI,CAAC,CAAC;QAACI;MAAI,CAAC,KAAK;QAClBP,KAAK,CAACQ,KAAK,GAAGD,IAAI,CAACE,MAAM,IAAI,EAAE;MACjC,CAAC,CAAC;IACJ,CAAC;IACD,MAAMP,WAAW,GAAGA,CAACQ,MAAM,GAAG,KAAK,KAAK;MACtC,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;QAC5BlB,KAAK,CAACY,IAAI,CAACV,MAAM,EAAE;UACjB,QAAQ,EAAE,SAAS;UACnB,QAAQ,EAAE;YACR,QAAQ,EAAEK,IAAI,CAACO,KAAK,GAAC,EAAE;YACvB,OAAO,EAAE;UACX;QACF,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;UAACI;QAAI,CAAC,KAAK;UAClBK,OAAO,CAACL,IAAI,CAACE,MAAM,IAAI,EAAE,CAAC;QAC5B,CAAC,CAAC,CAACI,KAAK,CAAEC,CAAC,IAAK;UACd,IAAI,CAACJ,MAAM,EAAE;YACXR,WAAW,CAAC,IAAI,CAAC;YACjBa,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;UAChB;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}